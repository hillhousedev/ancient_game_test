{"version":3,"sources":["webpack://demo1/./src/config/database.ts","webpack://demo1/./src/config/dbconfig.ts","webpack://demo1/./src/main.ts","webpack://demo1/./src/resolvers.ts","webpack://demo1/./src/typedef.ts","webpack://demo1/./src/models/bet.js","webpack://demo1/./src/models/user.js","webpack://demo1/external \"apollo-server\"","webpack://demo1/external \"sequelize\"","webpack://demo1/webpack/bootstrap","webpack://demo1/webpack/startup"],"names":["sequelize","authenticate","then","console","log","catch","err","error","module","exports","username","password","database","host","dialect","__importDefault","this","mod","__esModule","Object","defineProperty","value","apollo_server_1","resolvers_1","typedef_1","ApolloServer","resolvers","default","typeDefs","listen","_a","url","User","Bet","Query","getUserList","findAll","getUser","_","id","findOne","where","getBet","getBetList","Mutation","createUser","name","balance","create","createBet","userId","betAmount","chance","__makeTemplateObject","cooked","raw","templateObject_1","gql","Sequelize","define","allowNull","type","FLOAT","payout","win","BOOLEAN","INTEGER","associate","models","belongsTo","foreignKey","as","STRING","hasMany","Bets","require","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","call"],"mappings":"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","file":"server.js","sourcesContent":["\"use strict\";\nvar Sequelize = require('sequelize');\nvar config = require('./dbconfig');\nvar sequelize = new Sequelize(config);\nsequelize.authenticate()\n    .then(function () {\n    console.log(\"Successfully connected to db\");\n})\n    .catch(function (err) {\n    console.error(' Error cant connect to db..', err);\n});\nmodule.exports = sequelize;\n","\"use strict\";\nmodule.exports = {\n    username: 'postgres',\n    password: 'root',\n    database: 'ancient_game_dev',\n    host: '127.0.0.1',\n    dialect: 'postgres'\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar apollo_server_1 = require(\"apollo-server\");\nvar resolvers_1 = __importDefault(require(\"./resolvers\"));\nvar typedef_1 = __importDefault(require(\"./typedef\"));\nvar server = new apollo_server_1.ApolloServer({\n    resolvers: resolvers_1.default,\n    typeDefs: typedef_1.default\n});\nserver.listen()\n    .then(function (_a) {\n    var url = _a.url;\n    return console.log(\"Server ready at \" + url + \". \");\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar User = require('../src/models/user.js');\nvar Bet = require('../src/models/bet.js');\nexports.default = {\n    Query: {\n        getUserList: function () { return User.findAll(); },\n        getUser: function (_, _a) {\n            var id = _a.id;\n            return User.findOne({ where: { id: id } });\n        },\n        getBet: function (_, _a) {\n            var id = _a.id;\n            return Bet.findOne({ where: { id: id } });\n        },\n        getBetList: function () { return Bet.findAll(); },\n    },\n    Mutation: {\n        createUser: function (_, _a) {\n            var name = _a.name, balance = _a.balance;\n            return User.create({ name: name, balance: balance });\n        },\n        createBet: function (_, _a) {\n            var userId = _a.userId, betAmount = _a.betAmount, chance = _a.chance;\n            return Bet.create({ userId: userId, betAmount: betAmount, chance: chance });\n        },\n    }\n};\n","\"use strict\";\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar apollo_server_1 = require(\"apollo-server\");\nexports.default = apollo_server_1.gql(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n    type User {\\n        id: ID!\\n        name: String\\n        balance: Float\\n        bets: [Bet!]!\\n    }\\n\\n    type Bet {\\n        betAmount: Float\\n        chance: Float\\n        payOut: Float\\n        win: Boolean\\n    }\\n\\n    type Query {\\n        getUser(id: ID): User\\n        getUserList: [User]\\n        getBetList: [Bet!]\\n        getBet(id: ID): Bet\\n    }\\n\\n   type Mutation {\\n       createUser(name: String, balance: Float): User\\n       createBet(userId: Int, betAmount: Float, chance: Float): Bet\\n    \\n   }\\n\\n\"], [\"\\n    type User {\\n        id: ID!\\n        name: String\\n        balance: Float\\n        bets: [Bet!]!\\n    }\\n\\n    type Bet {\\n        betAmount: Float\\n        chance: Float\\n        payOut: Float\\n        win: Boolean\\n    }\\n\\n    type Query {\\n        getUser(id: ID): User\\n        getUserList: [User]\\n        getBetList: [Bet!]\\n        getBet(id: ID): Bet\\n    }\\n\\n   type Mutation {\\n       createUser(name: String, balance: Float): User\\n       createBet(userId: Int, betAmount: Float, chance: Float): Bet\\n    \\n   }\\n\\n\"])));\nvar templateObject_1;\n","  \n  const Sequelize = require('sequelize');\n  const sequelize = require('../config/database');\n  const User =  require('../models/user');\n\n\n  const Bet = sequelize.define('Bets', {\n    betAmount: {\n      allowNull: false,\n      type: Sequelize.FLOAT,\n    },\n    chance: {\n      allowNull: false,\n      type: Sequelize.FLOAT,\n    },\n    payout: {\n      \n      type: Sequelize.FLOAT,\n    },\n    win: {\n      \n      type: Sequelize.BOOLEAN,\n    },\n    userId: {\n      allowNull: false,\n      type: Sequelize.INTEGER\n    },\n  });\n\n  Bet.associate = function(models) {\n    Bet.belongsTo(models.User, { foreignKey: 'userId', as: 'user'})\n\n  };\n  module.exports = Bet;\n  // Bet.belongsTo(User);\n  // module.exports = Bet;\n  // Bet.associate = function (models) {\n    \n  //   Bet.belongsTo(models.User, {\n  //     foreignKey: 'userId',\n  //     onDelete: 'CASCADE'\n  //   })\n  // };\n  // return Bet;\n// };\n\n\n\n\n// 'use strict';\n// const {\n//   Model\n// } = require('sequelize');\n// module.exports = (sequelize, DataTypes) => {\n//   class Bet extends Model {\n//     /**\n//      * Helper method for defining associations.\n//      * This method is not a part of Sequelize lifecycle.\n//      * The `models/index` file will call this method automatically.\n//      */\n//     static associate(models) {\n//       // define association here\n//     }\n//   };\n//   Bet.init({\n//     betAmount: DataTypes.FLOAT,\n//     chance: DataTypes.FLOAT,\n//     payout: DataTypes.FLOAT,\n//     win: DataTypes.BOOLEAN,\n//     userId: DataTypes.INTEGER\n//   }, {\n//     sequelize,\n//     modelName: 'Bet',\n//   });\n//   return Bet;\n// };","\nconst Sequelize = require('sequelize');\nconst sequelize = require('../config/database');\n\n//const Bet = require('../models/bet');\n\n\n\nconst User = sequelize.define('Users', {\n  name: {\n    allowNull: false,\n    type: Sequelize.STRING,\n  },\n  balance: {\n    allowNull: false,\n    type: Sequelize.FLOAT,\n  }\n\n  \n});\n\nUser.associate = function (models) {\n  User.hasMany(models.Bets)\n};\n//User.hasMany(Bet);\n\n// User.associate = (models) => {\n//   User.hasMany(models.Bets);\n// }\n\n\n\nmodule.exports = User;\n\n// 'use strict';\n// const {\n//   Model\n// } = require('sequelize');\n// module.exports = (sequelize, DataTypes) => {\n//   class User extends Model {\n//     /**\n//      * Helper method for defining associations.\n//      * This method is not a part of Sequelize lifecycle.\n//      * The `models/index` file will call this method automatically.\n//      */\n//     static associate(models) {\n//       // define association here\n//     }\n//   };\n//   User.init({\n//     id: DataTypes.INTEGER\n//   }, {\n//     sequelize,\n//     modelName: 'User',\n//   });\n//   return User;\n// };","module.exports = require(\"apollo-server\");;","module.exports = require(\"sequelize\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(519);\n"],"sourceRoot":""}