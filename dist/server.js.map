{"version":3,"sources":["webpack://demo1/./src/config/database.ts","webpack://demo1/./src/config/dbconfig.ts","webpack://demo1/./src/main.ts","webpack://demo1/./src/resolvers.ts","webpack://demo1/./src/typedef.ts","webpack://demo1/./src/models/bet.js","webpack://demo1/./src/models/tuser.js","webpack://demo1/./src/models/user.js","webpack://demo1/external \"apollo-server\"","webpack://demo1/external \"sequelize\"","webpack://demo1/webpack/bootstrap","webpack://demo1/webpack/startup"],"names":["sequelize","authenticate","then","console","log","catch","err","error","module","exports","username","password","database","host","dialect","__importDefault","this","mod","__esModule","Object","defineProperty","value","apollo_server_1","resolvers_1","typedef_1","ApolloServer","resolvers","default","typeDefs","listen","_a","url","User","Bet","Tuser","Query","getUserList","findAll","getUser","_","id","findOne","where","getBet","getBetList","getTusers","Mutation","createUser","name","balance","create","createBet","userId","betAmount","chance","__makeTemplateObject","cooked","raw","templateObject_1","gql","Sequelize","define","allowNull","type","FLOAT","payout","win","BOOLEAN","INTEGER","associate","models","belongsTo","foreignKey","as","DataTypes","firstName","STRING","lastName","email","validate","isEmail","unique","paranoid","hasMany","Task","Bets","require","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","call"],"mappings":"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","file":"server.js","sourcesContent":["\"use strict\";\nvar Sequelize = require('sequelize');\nvar config = require('./dbconfig');\nvar sequelize = new Sequelize(config);\nsequelize.authenticate()\n    .then(function () {\n    console.log(\"Successfully connected to db\");\n})\n    .catch(function (err) {\n    console.error(' Error cant connect to db..', err);\n});\nmodule.exports = sequelize;\n","\"use strict\";\nmodule.exports = {\n    username: 'postgres',\n    password: 'root',\n    database: 'ancient_game_dev',\n    host: '127.0.0.1',\n    dialect: 'postgres'\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar apollo_server_1 = require(\"apollo-server\");\nvar resolvers_1 = __importDefault(require(\"./resolvers\"));\nvar typedef_1 = __importDefault(require(\"./typedef\"));\nvar server = new apollo_server_1.ApolloServer({\n    resolvers: resolvers_1.default,\n    typeDefs: typedef_1.default\n});\nserver.listen()\n    .then(function (_a) {\n    var url = _a.url;\n    return console.log(\"Server ready at \" + url + \". \");\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar User = require('../src/models/user.js');\nvar Bet = require('../src/models/bet.js');\nvar Tuser = require('../src/models/tuser.js').Tuser;\nexports.default = {\n    Query: {\n        getUserList: function () { return User.findAll(); },\n        getUser: function (_, _a) {\n            var id = _a.id;\n            return User.findOne({ where: { id: id } });\n        },\n        getBet: function (_, _a) {\n            var id = _a.id;\n            return Bet.findOne({ where: { id: id } });\n        },\n        getBetList: function () { return Bet.findAll(); },\n        getTusers: function () { return Tuser.findAll(); },\n    },\n    Mutation: {\n        createUser: function (_, _a) {\n            var name = _a.name, balance = _a.balance;\n            return User.create({ name: name, balance: balance });\n        },\n        createBet: function (_, _a) {\n            var userId = _a.userId, betAmount = _a.betAmount, chance = _a.chance;\n            return Bet.create({ userId: userId, betAmount: betAmount, chance: chance });\n        },\n    }\n};\n","\"use strict\";\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar apollo_server_1 = require(\"apollo-server\");\nexports.default = apollo_server_1.gql(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n    type User {\\n        id: ID!\\n        name: String\\n        balance: Float\\n        bets: [Bet!]!\\n    }\\n\\n    type Bet {\\n        betAmount: Float\\n        chance: Float\\n        payOut: Float\\n        win: Boolean\\n    }\\n\\n    type Tuser {\\n        firstName: String\\n        lastName: String\\n        email: String\\n    }\\n\\n    type Task {\\n        title: String\\n        complete: Boolean\\n\\n    }\\n\\n    type Query {\\n        getUser(id: ID): User\\n        getUserList: [User]\\n        getBetList: [Bet!]\\n        getBet(id: ID): Bet\\n        getTusers: [Tuser!]\\n    }\\n\\n   type Mutation {\\n       createUser(name: String, balance: Float): User\\n       createBet(userId: Int, betAmount: Float, chance: Float): Bet\\n    \\n   }\\n\\n\"], [\"\\n    type User {\\n        id: ID!\\n        name: String\\n        balance: Float\\n        bets: [Bet!]!\\n    }\\n\\n    type Bet {\\n        betAmount: Float\\n        chance: Float\\n        payOut: Float\\n        win: Boolean\\n    }\\n\\n    type Tuser {\\n        firstName: String\\n        lastName: String\\n        email: String\\n    }\\n\\n    type Task {\\n        title: String\\n        complete: Boolean\\n\\n    }\\n\\n    type Query {\\n        getUser(id: ID): User\\n        getUserList: [User]\\n        getBetList: [Bet!]\\n        getBet(id: ID): Bet\\n        getTusers: [Tuser!]\\n    }\\n\\n   type Mutation {\\n       createUser(name: String, balance: Float): User\\n       createBet(userId: Int, betAmount: Float, chance: Float): Bet\\n    \\n   }\\n\\n\"])));\nvar templateObject_1;\n","  \n  const Sequelize = require('sequelize');\n  const sequelize = require('../config/database');\n  const User =  require('../models/user');\n\n\n  const Bet = sequelize.define('Bets', {\n    betAmount: {\n      allowNull: false,\n      type: Sequelize.FLOAT,\n    },\n    chance: {\n      allowNull: false,\n      type: Sequelize.FLOAT,\n    },\n    payout: {\n      \n      type: Sequelize.FLOAT,\n    },\n    win: {\n      \n      type: Sequelize.BOOLEAN,\n    },\n    userId: {\n      allowNull: false,\n      type: Sequelize.INTEGER\n    },\n  });\n\n  Bet.associate = function(models) {\n    Bet.belongsTo(models.User, { foreignKey: 'userId', as: 'user'})\n\n  };\n  module.exports = Bet;\n  // Bet.belongsTo(User);\n  // module.exports = Bet;\n  // Bet.associate = function (models) {\n    \n  //   Bet.belongsTo(models.User, {\n  //     foreignKey: 'userId',\n  //     onDelete: 'CASCADE'\n  //   })\n  // };\n  // return Bet;\n// };\n\n\n\n\n// 'use strict';\n// const {\n//   Model\n// } = require('sequelize');\n// module.exports = (sequelize, DataTypes) => {\n//   class Bet extends Model {\n//     /**\n//      * Helper method for defining associations.\n//      * This method is not a part of Sequelize lifecycle.\n//      * The `models/index` file will call this method automatically.\n//      */\n//     static associate(models) {\n//       // define association here\n//     }\n//   };\n//   Bet.init({\n//     betAmount: DataTypes.FLOAT,\n//     chance: DataTypes.FLOAT,\n//     payout: DataTypes.FLOAT,\n//     win: DataTypes.BOOLEAN,\n//     userId: DataTypes.INTEGER\n//   }, {\n//     sequelize,\n//     modelName: 'Bet',\n//   });\n//   return Bet;\n// };","'use strict';\nmodule.exports = function (sequelize, DataTypes) {\n  const Tuser = sequelize.define('User', {\n    firstName: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    lastName: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    email: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        isEmail: true\n      },\n      unique: true\n    }\n  }, {\n      paranoid: true\n    });\n\n  User.associate = function (models) {\n    // associations can be defined here\n    User.hasMany(models.Task, {\n      foreignKey: {\n        name: 'userId',\n        allowNull: false\n      },\n      as: 'tasks'\n    });\n  };\n\n  return Tuser;\n};","\nconst Sequelize = require('sequelize');\nconst sequelize = require('../config/database');\n\n//const Bet = require('../models/bet');\n\n\n\nconst User = sequelize.define('Users', {\n  name: {\n    allowNull: false,\n    type: Sequelize.STRING,\n  },\n  balance: {\n    allowNull: false,\n    type: Sequelize.FLOAT,\n  }\n\n  \n});\n\nUser.associate = function (models) {\n  User.hasMany(models.Bets)\n};\n//User.hasMany(Bet);\n\n// User.associate = (models) => {\n//   User.hasMany(models.Bets);\n// }\n\n\n\nmodule.exports = User;\n\n// 'use strict';\n// const {\n//   Model\n// } = require('sequelize');\n// module.exports = (sequelize, DataTypes) => {\n//   class User extends Model {\n//     /**\n//      * Helper method for defining associations.\n//      * This method is not a part of Sequelize lifecycle.\n//      * The `models/index` file will call this method automatically.\n//      */\n//     static associate(models) {\n//       // define association here\n//     }\n//   };\n//   User.init({\n//     id: DataTypes.INTEGER\n//   }, {\n//     sequelize,\n//     modelName: 'User',\n//   });\n//   return User;\n// };","module.exports = require(\"apollo-server\");;","module.exports = require(\"sequelize\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(519);\n"],"sourceRoot":""}